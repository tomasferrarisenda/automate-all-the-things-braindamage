apiVersion: ec2.aws.upbound.io/v1beta1
kind: NATGateway
metadata:
  name: ${{ values.system }}-${{ values.name }}-nat-gw-b
spec:
  forProvider:
    # connectivityType: private
    region: us-west-1
    subnetIdRef: 
      name: ${{ values.system }}-${{ values.name }}-public-subnet-b
    allocationIdRef:
      name: ${{ values.system }}-${{ values.name }}-eip-b
    # subnetIdSelector:
    #   matchLabels:
    #     testing.upbound.io/example-name: example
    tags:
      Name: ${{ values.system }}-${{ values.name }}-nat-gw-b
  providerConfigRef:
    name: aws

---
apiVersion: ec2.aws.upbound.io/v1beta1
kind: EIP
metadata:
  name: ${{ values.system }}-${{ values.name }}-eip-b
spec:
  forProvider:
    region: us-west-1
    vpc: true
    tags:
      Name: ${{ values.system }}-${{ values.name }}-eip-b
  providerConfigRef:
    name: aws




---
apiVersion: ec2.aws.upbound.io/v1beta1
kind: NATGateway
metadata:
  name: ${{ values.system }}-${{ values.name }}-nat-gw-c
spec:
  forProvider:
    # connectivityType: private
    region: us-west-1
    subnetIdRef: 
      name: ${{ values.system }}-${{ values.name }}-public-subnet-c
    allocationIdRef:
      name: ${{ values.system }}-${{ values.name }}-eip-c
    # subnetIdSelector:
    #   matchLabels:
    #     testing.upbound.io/example-name: example
    tags:
      Name: ${{ values.system }}-${{ values.name }}-nat-gw-c
  providerConfigRef:
    name: aws
---
apiVersion: ec2.aws.upbound.io/v1beta1
kind: EIP
metadata:
  name: ${{ values.system }}-${{ values.name }}-eip-c
spec:
  forProvider:
    region: us-west-1
    vpc: true
    tags:
      Name: ${{ values.system }}-${{ values.name }}-eip-c
  providerConfigRef:
    name: aws